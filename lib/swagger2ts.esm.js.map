{"version":3,"file":"swagger2ts.esm.js","sources":["../src/helper/logger.ts","../src/core/config.ts","../src/index.ts"],"sourcesContent":["/* eslint no-console: 0 */\n\nimport colors from 'picocolors'\nimport type { RollupError } from 'rollup'\n\nexport type LogType = 'error' | 'warn' | 'info'\nexport type LogLevel = LogType | 'silent'\nexport interface Logger {\n  info(msg: string, options?: LogOptions): void\n  warn(msg: string, options?: LogOptions): void\n  warnOnce(msg: string, options?: LogOptions): void\n  error(msg: string, options?: LogErrorOptions): void\n}\n\nexport interface LogOptions {\n  clear?: boolean\n  timestamp?: boolean\n}\n\nexport interface LogErrorOptions extends LogOptions {\n  error?: Error | RollupError | null\n}\n\nconst output = (type: LogType, msg: string) => {\n  const prefix = 'logger'\n\n  /* eslint no-nested-ternary: 0 */\n  const tag =\n    type === 'info'\n      ? colors.cyan(colors.bold(prefix))\n      : type === 'warn'\n      ? colors.yellow(colors.bold(prefix))\n      : colors.red(colors.bold(prefix))\n\n  console[type](\n    `${colors.bgWhite(colors.bold(new Date().toLocaleTimeString()))} : ${tag} - ${msg}`\n  )\n}\n\nexport function createLogger(): Logger {\n  const warnedMessages = new Set<string>()\n\n  const logger: Logger = {\n    info(msg) {\n      output('info', msg)\n    },\n    warn(msg) {\n      output('warn', msg)\n    },\n    warnOnce(msg) {\n      if (warnedMessages.has(msg)) return\n      output('warn', msg)\n      warnedMessages.add(msg)\n    },\n    error(msg) {\n      output('error', msg)\n    }\n  }\n\n  return logger\n}\n","import { createLogger } from '../helper/logger'\n\nexport type Swagger2TsOptions = {\n  name: string\n  httpClientType: 'axios'\n  input?: string\n  url?: string\n  output: string\n}\n\nconst logger = createLogger()\n\ntype ResolvedConfig = any\n\nexport const resolveOptions: (options: Swagger2TsOptions) => Promise<ResolvedConfig> = (\n  options\n) => {\n  const { name, output, httpClientType, input, url } = options\n\n  if (!input && !url) {\n    logger.warn('You must provide either an input file or a url')\n    process.exit(1)\n  }\n\n  const resolved: ResolvedConfig = {\n    name,\n    inputFileContent: '',\n    output,\n    httpClientType,\n    input,\n    url\n  }\n\n  return Promise.resolve(resolved)\n}\n","import { resolve } from 'node:path'\n\nimport { resolveOptions } from './core'\nimport type { Swagger2TsOptions } from './core'\n\nexport const swagger2ts = async (options: Swagger2TsOptions) => {\n  const resolvedOptions = await resolveOptions(options)\n  console.log('resolvedOptions: ', resolvedOptions)\n}\n\nswagger2ts({\n  name: 'MySuperbApi.ts',\n  output: resolve(process.cwd(), './__generated__'),\n  // input: resolve(process.cwd(), '../src/mock/base.json'),\n  httpClientType: 'axios'\n})\n"],"names":[],"mappings":";;;AAAA;AAuBA,MAAM,MAAM,GAAG,CAAC,IAAa,EAAE,GAAW,KAAI;IAC5C,MAAM,MAAM,GAAG,QAAQ,CAAA;;AAGvB,IAAA,MAAM,GAAG,GACP,IAAI,KAAK,MAAM;UACX,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;UAChC,IAAI,KAAK,MAAM;cACf,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpC,cAAE,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAA;IAErC,OAAO,CAAC,IAAI,CAAC,CACX,CAAA,EAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAM,GAAA,EAAA,GAAG,CAAM,GAAA,EAAA,GAAG,CAAE,CAAA,CACpF,CAAA;AACH,CAAC,CAAA;SAEe,YAAY,GAAA;AAC1B,IAAA,MAAM,cAAc,GAAG,IAAI,GAAG,EAAU,CAAA;AAExC,IAAA,MAAM,MAAM,GAAW;AACrB,QAAA,IAAI,CAAC,GAAG,EAAA;AACN,YAAA,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;SACpB;AACD,QAAA,IAAI,CAAC,GAAG,EAAA;AACN,YAAA,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;SACpB;AACD,QAAA,QAAQ,CAAC,GAAG,EAAA;AACV,YAAA,IAAI,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC;gBAAE,OAAM;AACnC,YAAA,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;AACnB,YAAA,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;SACxB;AACD,QAAA,KAAK,CAAC,GAAG,EAAA;AACP,YAAA,MAAM,CAAC,OAAO,EAAE,GAAG,CAAC,CAAA;SACrB;KACF,CAAA;AAED,IAAA,OAAO,MAAM,CAAA;AACf;;AClDA,MAAM,MAAM,GAAG,YAAY,EAAE,CAAA;AAItB,MAAM,cAAc,GAA4D,CACrF,OAAO,KACL;AACF,IAAA,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,OAAO,CAAA;AAE5D,IAAA,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,EAAE;AAClB,QAAA,MAAM,CAAC,IAAI,CAAC,gDAAgD,CAAC,CAAA;AAC7D,QAAA,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;AAChB,KAAA;AAED,IAAA,MAAM,QAAQ,GAAmB;QAC/B,IAAI;AACJ,QAAA,gBAAgB,EAAE,EAAE;QACpB,MAAM;QACN,cAAc;QACd,KAAK;QACL,GAAG;KACJ,CAAA;AAED,IAAA,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAA;AAClC,CAAC;;MC7BY,UAAU,GAAG,OAAO,OAA0B,KAAI;AAC7D,IAAA,MAAM,eAAe,GAAG,MAAM,cAAc,CAAC,OAAO,CAAC,CAAA;AACrD,IAAA,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,eAAe,CAAC,CAAA;AACnD,EAAC;AAED,UAAU,CAAC;AACT,IAAA,IAAI,EAAE,gBAAgB;IACtB,MAAM,EAAE,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,iBAAiB,CAAC;;AAEjD,IAAA,cAAc,EAAE,OAAO;AACxB,CAAA,CAAC;;;;"}